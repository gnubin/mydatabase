***
Кроме поддержки уровней изоляции транзакций, многие СУБД позволяют также создавать блокировки данных как на уровне отдельных строк, так и на уровне целых таблиц.

Команда `SELECT` имеет предложение `FOR UPDATE`, которое позволяет заблокировать отдельные строки таблицы с целью их последующего обновления.

Если одна транзакция заблокировала строки с помощью этой команды, тогда параллельные транзакции не смогут заблокировать эти же строки до тех пор, пока первая транзакция не завершится, и тем самым блокировка не будет снята.

Таким образом если выполнять данную команду:

```sql
SELECT * FROM table_tame WHERE column_name ~ 'some text' FOR UPDATE;
```

на двух терминалах — сначала на одном — а затем на втором (с учетом начала транзакции `BEGIN`)

То можно заметить, что выполнение на втором терминале приостановится до тех пор пока не завершится транзакция первого терминала

При этом если на первом терминале выполнить какую-нибудь другую команду:

```sql
UPDATE table_name SET column_name = 'kek' WHERE column_value = 404;
```

То, перейдя на второй терминал станет видно, что там была, наконец, выполнена выборка, которая покажет уже измененные данные с учетом данной UPDATE-команды
***
#java #sql #программирование 