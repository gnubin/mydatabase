## **Функциональные требования к приложению для специалистов («Hello, Doc! для работы»):**

### 1. **Установка и требования:**

  - Возможность установки приложения через Google Play, RuStore и App Store.
  - Поддержка устройств с Android (версии от 8.0) и iOS (версии от 12.1).
### 2. **Регистрация и вход:**

1. **Онбординг:**
    
    - Автоматическое отображение краткого интерактивного руководства по основным функциям приложения при первом запуске.
    - Пропуск онбординга, если пользователь уже знаком с функционалом.
2. **Ввод номера телефона:**
    
    - Экран для ввода номера телефона с маской (например, +7
    - Проверка формата номера перед отправкой запроса.
3. **Подтверждение через SMS:**
    
    - Автоматическая отправка SMS с кодом подтверждения на указанный номер.
    - Экран для ввода кода подтверждения (с таймером повторной отправки SMS, например, 60 секунд).
    - Автоматическое заполнение кода из SMS (если устройство поддерживает).
4. **Создание PIN-кода:**
    
    - Экран для ввода 4- или 6-значного PIN-кода.
    - Повторный ввод для подтверждения кода.
    - Проверка на простые комбинации (например, «0000» или «1234»).
5. **Биометрическая авторизация (опционально):**
    
    - Интеграция с системами биометрической аутентификации устройства:
        - Для iOS: Face ID и Touch ID.
        - Для Android: сканер отпечатка пальца или распознавание лица.
    - Возможность включить/отключить биометрию в настройках приложения.
6. **Разрешения на доступ:**
    
    - Запрос разрешений на доступ к микрофону, контактам и файлам.
    - Пояснения, зачем нужны эти разрешения (например, «Микрофон нужен для отправки голосовых сообщений»).
7. **Юридическая информация:**
    
    - Ссылки на Политику конфиденциальности и Условия использования на экране регистрации.
    - Принудительное согласие с пользовательским соглашением для завершения регистрации.
### 3. **Работа с пациентами:**

1. **Добавление пациентов:**
    
    - **Кнопка добавления пациента:**
        - Размещение кнопки «+ Добавить» на главном экране раздела «Пациенты».
    - **Выбор способа добавления:**
        - По номеру телефона (ручной ввод).
        - Из списка контактов телефона (с предварительным запросом разрешения на доступ).
    - **Отправка приглашения:**
        - Создание SMS с автоматической генерацией ссылки для установки приложения «Hello, Doc! для пациента».
        - Альтернативная отправка реферальной ссылки через мессенджеры (например, WhatsApp, Telegram).
2. **Управление списком пациентов:**
    
    - **Просмотр информации о пациентах:**
        - Список пациентов с указанием их имени, телефона и статуса (например, приглашён, активен).
    - **Поиск и фильтрация:**
        - Возможность поиска пациента по имени или номеру телефона.
        - Фильтрация пациентов по статусам (например, «Активные», «Ожидают приглашения»).
    - **Редактирование данных пациента:**
        - Возможность обновления контактной информации пациента.
3. **Работа с приглашениями:**
    
    - **Статус приглашения:**
        - Отображение отправленных и активированных приглашений.
    - **Управление ссылками:**
        - Генерация уникальных реферальных ссылок для повторной отправки или для предоставления другим пользователям.
4. **Интеграция с чатом:**
    
    - Переход к чату с пациентом прямо из списка пациентов.
    - Создание нового обращения при добавлении нового пациента.
### 4. **Назначение анализов:**

1. **Доступ к функционалу заказа анализов:**
    
    - Кнопка «Заказать анализы» доступна в профиле каждого пациента.
    - Альтернативный доступ через чат с пациентом.
2. **Шаги оформления заказа:**
    
    - **Выбор пациента:**
        - Просмотр списка пациентов и выбор конкретного пациента.
    - **Выбор города:**
        - Список доступных городов, связанных с лабораториями, которые могут выполнить анализ.
        - Фильтр городов по региону (если требуется).
    - **Выбор категории анализа:**
        - Отображение каталога анализов, разделённого на категории (например, «Общий анализ крови», «Биохимия»).
        - Поиск анализов по названию или ключевым словам.
    - **Подтверждение заказа:**
        - Проверка списка выбранных анализов и отправка заказа.
        - Возможность добавить комментарии или инструкции для лаборатории.
3. **Отслеживание статуса заказов:**
    
    - Раздел «Настройки» → подраздел «Финансы»:
        - Просмотр всех оформленных заказов по пациентам.
        - Статусы заказов (например, «В процессе», «Завершён»).
4. **Уведомления:**
    
    - Уведомление врачу о смене статуса заказа (например, «Результаты доступны»).
    - Напоминания о необходимости взаимодействия с пациентом (например, если пациент задержал оплату или не завершил заказ).
### 5. **Общение с пациентами:**

1. **Доступ к чату:**
    
    - Главный экран → Раздел «Обращения».
    - Отображение списка чатов с пациентами, отсортированного по дате последнего сообщения.
    - Быстрый доступ к чату с конкретным пациентом через раздел «Пациенты».
2. **Функции чата:**
    
    - **Отправка сообщений:**
        - Возможность отправлять текстовые сообщения с форматированием (например, жирный шрифт, ссылки).
        - Отправка голосовых сообщений с автоматической записью и отправкой после завершения.
    - **Мультимедиа:**
        - Отправка файлов, изображений и видео (с предварительным просмотром перед отправкой).
        - Возможность прикреплять результаты анализов пациента из внутренней системы.
    - **Встроенные функции:**
        - Быстрый доступ к созданию заказа анализов для пациента прямо из чата.
        - Функция вызова (аудио или видео) через встроенный или интегрированный сервис.
    - **Уведомления:**
        - Push-уведомления о новых сообщениях от пациентов.
        - Отображение непрочитанных сообщений с индикатором в списке чатов.
3. **Организация чатов:**
    
    - **Фильтрация:**
        - Возможность фильтровать чаты по статусу пациента (активный, новый, завершённый).
    - **Поиск:**
        - Поиск по имени пациента или ключевым словам из сообщений.
    - **Архивация:**
        - Возможность архивировать завершённые диалоги для упрощения интерфейса.
4. **История сообщений:**
    
    - Хранение всех сообщений и вложений для возможности пересмотра истории взаимодействий.
    - Возможность экспортировать историю общения (например, в формате PDF).
## **Функциональные требования к приложению для пациентов («Hello, Doc! для пациента»):**

### 1. **Установка и требования:**

   - Возможность установки приложения через Google Play, RuStore и App Store.
   - Поддержка устройств с Android (версии от 8.0) и iOS (версии от 12.1).

### 2. **Регистрация и вход:**
- **Онбординг:**
    
    - Приветственное интерактивное руководство, поясняющее основные функции приложения:
        - Просмотр заказов.
        - Оплата услуг.
        - Получение результатов анализов.
        - Обращение за консультацией к врачу.
    - Возможность пропустить онбординг или пересмотреть его позже через настройки.
- **Ввод номера телефона:**
    
    - Экран с полем для ввода номера телефона в формате E.164 (например, +7 (_**) _**-**-**).
    - Автоматическая проверка формата номера.
- **Подтверждение через SMS:**
    
    - Отправка SMS с одноразовым кодом подтверждения.
    - Таймер обратного отсчета до повторной отправки (например, 60 секунд).
    - Возможность ручного ввода кода или автоматическое заполнение.
- **Создание учетной записи:**
    
    - Обязательное создание PIN-кода для входа в приложение.
    - Подтверждение PIN-кода повторным вводом.
    - Инструкция по сохранению PIN-кода.
- **Биометрическая авторизация (опционально):**
    
    - Поддержка биометрии:
        - Face ID и Touch ID для iOS.
        - Сканер отпечатка пальца и распознавание лица для Android.
    - Включение/отключение биометрии в настройках.
- **Разрешения на доступ:**
    
    - Запрос разрешений на доступ к микрофону, камере, геолокации и файлам.
    - Информирование пользователя о причинах запросов (например, «Геолокация используется для подбора ближайших лабораторий»).
- **Юридическая информация:**
    
    - Демонстрация Политики конфиденциальности и Условий использования с возможностью перехода по ссылкам.
    - Согласие с юридическими документами перед завершением регистрации.
### 3. **Работа с заказами:**

1. **Просмотр списка заказов:**
    
    - **Главный экран:**
        - Список всех заказов, сгруппированных по статусам:
            - «Новый» – заказы, ожидающие оформления или оплаты.
            - «Оплачено» – заказы, которые уже оплачены.
            - «Готов» – заказы с готовыми результатами.
    - **Информация по каждому заказу:**
        - Указание вида анализа, даты заказа, статуса и ответственного врача (если есть).
2. **Детализация заказа:**
    
    - При выборе конкретного заказа открывается экран с его подробной информацией:
        - Указание города, лаборатории и списка анализов.
        - Шаги для оплаты заказа (например, привязка карты, выбор бонусов).
        - Статусы выполнения (например, «Сдано в лабораторию», «Результаты доступны»).
3. **Оформление нового заказа:**
    
    - **Выбор услуг:**
        - Выбор города и медицинской организации.
        - Каталог доступных анализов с кратким описанием каждого.
        - Добавление выбранных услуг в корзину.
    - **Подтверждение заказа:**
        - Проверка введённых данных.
        - Подтверждение и оформление заказа через корзину.
4. **Статусы заказов:**
    
    - Реализация уведомлений о смене статусов заказа:
        - Уведомление о принятии заказа в работу.
        - Уведомление о готовности результатов.
5. **Использование бонусов:**
    
    - Система лояльности:
        - Начисление бонусов за оплату услуг.
        - Использование бонусов для получения скидки (до 30% от суммы заказа).
    - Отображение доступного остатка бонусов на экране корзины.
6. **Управление оплатой:**
    
    - **Привязка банковской карты:**
        - Добавление и управление банковскими картами в разделе «Настройки».
    - **Оплата заказов:**
        - Выбор способов оплаты: бонусы, банковская карта.
        - Подтверждение платежа через встроенный платёжный модуль.
### 4. **Получение результатов:**

1. **Доступ к функционалу заказа анализов:**
    
    - Главный экран → Раздел «Сервисы»:
        - Кнопка «Заказать анализы с расшифровкой».
    - Альтернативный доступ через баннер на главном экране.
2. **Шаги оформления заказа:**
    
    - **Выбор города:**
        - Список доступных городов с лабораториями.
        - Геолокация для автоматического выбора ближайшего города (если включена).
    - **Выбор анализов:**
        - Каталог анализов с разделением на категории.
        - Функция поиска и фильтрации анализов (например, по цене, по названию).
    - **Добавление в корзину:**
        - Выбор одного или нескольких анализов и их добавление в корзину.
        - Просмотр итоговой стоимости заказа.
    - **Оформление заказа:**
        - Проверка данных: выбранного города, лаборатории, анализов.
        - Указание дополнительных данных (например, комментарий для лаборатории).
3. **Оплата заказов:**
    
    - **Привязка карты:**
        - Раздел «Настройки» → подраздел «Банковские данные».
        - Добавление и удаление привязанных банковских карт.
    - **Методы оплаты:**
        - Оплата банковской картой.
        - Использование бонусов для скидки:
            - Расчёт доступного размера скидки (до 30% от суммы).
            - Отображение оставшихся бонусов после оплаты.
    - **Подтверждение платежа:**
        - Подтверждение через встроенный платёжный модуль (3D-Secure для банковских карт).
4. **Отслеживание статуса заказов:**
    
    - Главный экран → Раздел «Заказы анализов»:
        - Статусы: «Новый», «Оплачено», «Готов».
        - Просмотр всех этапов выполнения заказа (например, «Оформлено», «Выполнено», «Результаты доступны»).
5. **Уведомления:**
    
    - Push-уведомления:
        - О смене статуса заказа (например, «Оплачено», «Готово»).
        - Напоминания о завершении заказа (например, если анализы не сданы).
6. **Особенности оплаты бонусами:**
    
    - Начисление бонусов:
        - За каждую оплату начисляются бонусы на счёт пользователя.
    - Использование бонусов:
        - Возможность частичной оплаты заказов.
        - Информация о доступных бонусах отображается в корзине.

### 5. **Дополнительные функции:**

1. **Доступ к консультациям:**
    
    - Главный экран → Баннер «Задайте вопрос дежурному врачу бесплатно».
    - Альтернативный доступ через раздел «Сервисы» → «Консультации врача».
2. **Шаги получения консультации:**
    
    - **Выбор темы обращения:**
        - «Вопрос про взрослого» или «Вопрос про ребёнка».
    - **Формирование чата:**
        - Автоматическое создание чата с дежурным врачом после выбора темы.
        - Указание предварительных данных, если требуется (например, возраст пациента, основные жалобы).
3. **Функции чата:**
    
    - **Обмен сообщениями:**
        - Отправка текстовых сообщений с подробным описанием симптомов.
        - Возможность записывать и отправлять голосовые сообщения.
    - **Мультимедиа:**
        - Загрузка и отправка фото и видео для уточнения диагноза (например, фото анализов или симптомов).
    - **Встроенные функции:**
        - Быстрый переход к заказу анализов, если врач порекомендовал их сдать.
        - Встроенные подсказки для подготовки данных перед консультацией (например, «Укажите симптомы»).
4. **Уведомления:**
    
    - Push-уведомления о новых сообщениях от врача.
    - Напоминания о необходимости завершения чата, если консультация долго не активна.
5. **История чатов:**
    
    - Хранение всех чатов с врачами в разделе «Консультации».
    - Просмотр предыдущих переписок для повторного обращения по той же проблеме.
6. **Взаимодействие с дежурным врачом:**
    
    - Реализация системы очереди:
        - Уведомление пациента о текущем статусе обращения (например, «Ваша заявка в обработке»).
    - Быстрый переход в чат, как только врач начнёт консультацию.
7. **Дополнительные функции:**
    
    - Возможность завершения чата вручную.
    - Оценка качества консультации после завершения общения (например, по 5-балльной шкале или отзыв).

